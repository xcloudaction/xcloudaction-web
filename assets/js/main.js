"use strict";function toggleNavigation(){document.body.classList.contains("sidebar-enabled")?document.body.classList.remove("sidebar-enabled"):document.body.classList.add("sidebar-enabled")}function onYouTubeIframeAPIReady(){player=new YT.Player("player",{videoId:"LmtKeKRd5kk",playerVars:{playsinline:1,modestbranding:1}}),new URLSearchParams(window.location.search).get("showVideo")&&showVideo()}function showVideo(){document.getElementById("video-container").style.display=null,player.playVideo(),event.preventDefault()}function dismissVideo(){player.stopVideo(),document.getElementById("video-container").style.display="none"}function submitSignupForm(e){e.preventDefault();var n=e.target;n.hp.value.length||(n.querySelector(".spinner").style.visibility="visible",fetch("/api/v1/listSignup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.email.value,beta_access:!0,source:"website"})}).then(async e=>{var t=await e.json();e.ok?200===e.status?showReturningUserSuccess(n.email.value):showNewUserConfirmation(n.email.value):showSignupError("Unable to Subscribe",t.message)})["catch"](e=>{showSignupError("Connection Error",e.message)})["finally"](()=>{n.querySelector(".spinner").style.cssText=null}))}function showReturningUserSuccess(e){var n="<h1>Welcome back!</h1>";n+="<p><code>"+e+"</code></p>",n+="<p>You\u2019re already subscribed to the Mimestream mailing list.</p>";let t=document.createElement("DIV");t.innerHTML=n,swal({icon:"success",content:t,button:"OK"})}function showNewUserConfirmation(e){var n="<h1>We sent you a confirmation!</h1>";n+="<p><code>"+e+"</code></p>",n+="<p>Please check your email for confirmation message. After you confirm your address, you\u2019ll be on our mailing list.</p>";let t=document.createElement("DIV");t.innerHTML=n,swal({icon:"success",content:t,button:"OK"})}function showSignupError(e,n){var t="<h1>"+e+"</h1>";t+="<p>"+n+"</p>",t+='<br/><br/><small>Need help? Email <a href="mailto:support@mimestream.com">support@mimestream.com</a></small>';let o=document.createElement("DIV");o.innerHTML=t,swal({icon:"error",content:o})}var player;window.addEventListener("scroll",function(){window.scrollY>0&&document.body.clientHeight>window.innerHeight?document.querySelector("header").classList.add("floating"):document.querySelector("header").classList.remove("floating")}),document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".waitlist-form"),n=0;n<e.length;n++){e[n].addEventListener("submit",submitSignupForm)}});